{"ast":null,"code":"import axios from\"axios\";import{useParams,useNavigate}from'react-router-dom';import{useEffect}from'react';import{useDispatch,useSelector}from\"react-redux\";import{getPost}from\"../../store/postSlice\";export var useView=function useView(){var _useParams=useParams(),id=_useParams.id;var navigate=useNavigate();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.post;}),post=_useSelector.post,isLoading=_useSelector.isLoading;useEffect(function(){dispatch(getPost(id));},[dispatch,id]);var deleteHandler=function deleteHandler(){var backEndLink=process.env.REACT_APP_BACKEND_URL;try{axios.delete(\"\".concat(backEndLink,\"/posts/\").concat(id),{withCredentials:true}).then(function(res){navigate('/posts');});}catch(error){console.error('Axios error:',error);}};return{deleteHandler:deleteHandler,id:id,post:post,isLoading:isLoading};};","map":{"version":3,"names":["axios","useParams","useNavigate","useEffect","useDispatch","useSelector","getPost","useView","_useParams","id","navigate","dispatch","_useSelector","state","post","isLoading","deleteHandler","backEndLink","process","env","REACT_APP_BACKEND_URL","delete","concat","withCredentials","then","res","error","console"],"sources":["/Users/adnan/Desktop/projects/setup/src/routes/view/useView.js"],"sourcesContent":["import axios from \"axios\";\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useEffect} from 'react';\nimport { useDispatch , useSelector} from \"react-redux\";\nimport { getPost } from \"../../store/postSlice\";\n\nexport const useView = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const dispatch = useDispatch()\n  const { post, isLoading} = useSelector(state => state.post)\n\n  useEffect(() => {\n    dispatch(getPost(id))\n  }, [dispatch, id]);\n\n  const deleteHandler = () => {\n    const backEndLink = process.env.REACT_APP_BACKEND_URL\n    try {\n      axios\n        .delete(`${backEndLink}/posts/${id}`, { withCredentials: true })\n        .then((res) => {\n          navigate('/posts');\n        });\n    } catch (error) {\n      console.error('Axios error:', error);\n    }\n  };\n    \n    return {\n        deleteHandler,\n        id,\n        post,\n        isLoading\n    }\n};\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,OAASC,SAAS,KAAO,OAAO,CAChC,OAASC,WAAW,CAAGC,WAAW,KAAO,aAAa,CACtD,OAASC,OAAO,KAAQ,uBAAuB,CAE/C,MAAO,IAAM,CAAAC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAS,CAC3B,IAAAC,UAAA,CAAeP,SAAS,CAAC,CAAC,CAAlBQ,EAAE,CAAAD,UAAA,CAAFC,EAAE,CACV,GAAM,CAAAC,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAS,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAC9B,IAAAQ,YAAA,CAA2BP,WAAW,CAAC,SAAAQ,KAAK,QAAI,CAAAA,KAAK,CAACC,IAAI,GAAC,CAAnDA,IAAI,CAAAF,YAAA,CAAJE,IAAI,CAAEC,SAAS,CAAAH,YAAA,CAATG,SAAS,CAEvBZ,SAAS,CAAC,UAAM,CACdQ,QAAQ,CAACL,OAAO,CAACG,EAAE,CAAC,CAAC,CACvB,CAAC,CAAE,CAACE,QAAQ,CAAEF,EAAE,CAAC,CAAC,CAElB,GAAM,CAAAO,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CAC1B,GAAM,CAAAC,WAAW,CAAGC,OAAO,CAACC,GAAG,CAACC,qBAAqB,CACrD,GAAI,CACFpB,KAAK,CACFqB,MAAM,IAAAC,MAAA,CAAIL,WAAW,YAAAK,MAAA,CAAUb,EAAE,EAAI,CAAEc,eAAe,CAAE,IAAK,CAAC,CAAC,CAC/DC,IAAI,CAAC,SAACC,GAAG,CAAK,CACbf,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,CAAC,CACN,CAAE,MAAOgB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,cAAc,CAAEA,KAAK,CAAC,CACtC,CACF,CAAC,CAEC,MAAO,CACHV,aAAa,CAAbA,aAAa,CACbP,EAAE,CAAFA,EAAE,CACFK,IAAI,CAAJA,IAAI,CACJC,SAAS,CAATA,SACJ,CAAC,CACL,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}