{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useEffect, useSt } from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getPost } from \"../../store/postSlice\";\nexport const useView = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const {\n    post,\n    isLoading\n  } = useSelector(state => state.post);\n  useEffect(() => {\n    dispatch(getPost(id));\n  }, []);\n  const deleteHandler = () => {\n    const backEndLink = process.env.REACT_APP_BACKEND_URL;\n    try {\n      axios.delete(`${backEndLink}/posts/${id}`, {\n        withCredentials: true\n      }).then(res => {\n        navigate('/posts');\n      });\n    } catch (error) {\n      console.error('Axios error:', error);\n    }\n  };\n  return {\n    deleteHandler,\n    id,\n    post,\n    isLoading\n  };\n};\n_s(useView, \"WqipopUD/6b5Qe9yeZ64ed2W/LU=\", false, function () {\n  return [useParams, useNavigate, useDispatch, useSelector];\n});","map":{"version":3,"names":["axios","useParams","useNavigate","useEffect","useSt","useDispatch","useSelector","getPost","useView","_s","id","navigate","dispatch","post","isLoading","state","deleteHandler","backEndLink","process","env","REACT_APP_BACKEND_URL","delete","withCredentials","then","res","error","console"],"sources":["/Users/adnan/Desktop/projects/setup/src/routes/view/useView.js"],"sourcesContent":["import axios from \"axios\";\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useEffect, useSt} from 'react';\nimport { useDispatch , useSelector} from \"react-redux\";\nimport { getPost } from \"../../store/postSlice\";\n\nexport const useView = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const dispatch = useDispatch()\n  const { post, isLoading} = useSelector(state => state.post)\n\n  useEffect(() => {\n    dispatch(getPost(id))\n  }, []);\n\n  const deleteHandler = () => {\n    const backEndLink = process.env.REACT_APP_BACKEND_URL\n    try {\n      axios\n        .delete(`${backEndLink}/posts/${id}`, { withCredentials: true })\n        .then((res) => {\n          navigate('/posts');\n        });\n    } catch (error) {\n      console.error('Axios error:', error);\n    }\n  };\n    \n    return {\n        deleteHandler,\n        id,\n        post,\n        isLoading\n    }\n};\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,WAAW,QAAQ,kBAAkB;AACzD,SAASC,SAAS,EAAEC,KAAK,QAAO,OAAO;AACvC,SAASC,WAAW,EAAGC,WAAW,QAAO,aAAa;AACtD,SAASC,OAAO,QAAQ,uBAAuB;AAE/C,OAAO,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM;IAAEC;EAAG,CAAC,GAAGT,SAAS,CAAC,CAAC;EAC1B,MAAMU,QAAQ,GAAGT,WAAW,CAAC,CAAC;EAC9B,MAAMU,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEQ,IAAI;IAAEC;EAAS,CAAC,GAAGR,WAAW,CAACS,KAAK,IAAIA,KAAK,CAACF,IAAI,CAAC;EAE3DV,SAAS,CAAC,MAAM;IACdS,QAAQ,CAACL,OAAO,CAACG,EAAE,CAAC,CAAC;EACvB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMM,aAAa,GAAGA,CAAA,KAAM;IAC1B,MAAMC,WAAW,GAAGC,OAAO,CAACC,GAAG,CAACC,qBAAqB;IACrD,IAAI;MACFpB,KAAK,CACFqB,MAAM,CAAE,GAAEJ,WAAY,UAASP,EAAG,EAAC,EAAE;QAAEY,eAAe,EAAE;MAAK,CAAC,CAAC,CAC/DC,IAAI,CAAEC,GAAG,IAAK;QACbb,QAAQ,CAAC,QAAQ,CAAC;MACpB,CAAC,CAAC;IACN,CAAC,CAAC,OAAOc,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,cAAc,EAAEA,KAAK,CAAC;IACtC;EACF,CAAC;EAEC,OAAO;IACHT,aAAa;IACbN,EAAE;IACFG,IAAI;IACJC;EACJ,CAAC;AACL,CAAC;AAACL,EAAA,CA7BWD,OAAO;EAAA,QACHP,SAAS,EACPC,WAAW,EACXG,WAAW,EACDC,WAAW;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}