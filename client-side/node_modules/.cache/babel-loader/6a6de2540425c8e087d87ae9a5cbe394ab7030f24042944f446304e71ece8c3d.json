{"ast":null,"code":"import _regeneratorRuntime from\"/Users/adnan/Desktop/projects/setup/client-side/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/adnan/Desktop/projects/setup/client-side/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createAsyncThunk,createSlice}from\"@reduxjs/toolkit\";import axios from\"axios\";export var getPost=createAsyncThunk('post/getPost',/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var backEndLink,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:backEndLink=process.env.REACT_APP_BACKEND_URL;_context.prev=1;_context.next=4;return axios.get(\"\".concat(backEndLink,\"/posts/\").concat(id),{withCredentials:true});case 4:response=_context.sent;return _context.abrupt(\"return\",response.data);case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.error('error',_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[1,8]]);}));return function(_x){return _ref.apply(this,arguments);};}());export var likePost=createAsyncThunk('post/likePost',/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var backEndLink,response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:backEndLink=process.env.REACT_APP_BACKEND_URL;_context2.prev=1;_context2.next=4;return axios.post(\"\".concat(backEndLink,\"/posts/\").concat(id,\"/like\"),null,{withCredentials:true});case 4:response=_context2.sent;console.log(response.data);return _context2.abrupt(\"return\",response.data);case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](1);console.error('error:',_context2.t0);case 12:case\"end\":return _context2.stop();}},_callee2,null,[[1,9]]);}));return function(_x2){return _ref2.apply(this,arguments);};}());var initialState={post:{},isLoading:true};var postSlice=createSlice({name:'post',initialState:initialState,reducers:{},extraReducers:function extraReducers(builder){builder.addCase(getPost.pending,function(state){state.isLoading=true;}).addCase(getPost.fulfilled,function(state,action){state.post=action.payload;state.isLoading=false;}).addCase(getPost.rejected,function(state,action){console.log(action);state.isLoading=false;});builder.addCase(likePost.fulfilled,function(state,action){state.post=action.payload.post;});}});export default postSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","getPost","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","id","backEndLink","response","wrap","_callee$","_context","prev","next","process","env","REACT_APP_BACKEND_URL","get","concat","withCredentials","sent","abrupt","data","t0","console","error","stop","_x","apply","arguments","likePost","_ref2","_callee2","_callee2$","_context2","post","log","_x2","initialState","isLoading","postSlice","name","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","reducer"],"sources":["/Users/adnan/Desktop/projects/setup/client-side/src/store/postSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nexport const getPost = createAsyncThunk('post/getPost', async (id) => {\n    const backEndLink = process.env.REACT_APP_BACKEND_URL\n    try {\n        const response = await axios.get(`${backEndLink}/posts/${id}`, { withCredentials: true })\n        return response.data\n    } catch (error) {\n        console.error('error', error)\n    }\n})\nexport const likePost = createAsyncThunk('post/likePost', async (id) => {\n    const backEndLink = process.env.REACT_APP_BACKEND_URL\n    try{\n        const response = await axios.post(`${backEndLink}/posts/${id}/like`, null, { withCredentials: true })\n        console.log(response.data)\n        return response.data\n    }catch(error){\n        console.error('error:', error)\n    }\n})\n\nconst initialState = {\n    post: {},\n    isLoading: true,\n}\n\nconst postSlice = createSlice({\n    name: 'post',\n    initialState,\n    reducers: {},\n    extraReducers: (builder) => {\n        builder\n            .addCase(getPost.pending, (state) => {\n                state.isLoading = true\n            })\n            .addCase(getPost.fulfilled, (state, action) => {\n                state.post = action.payload\n                state.isLoading = false\n            })\n            .addCase(getPost.rejected, (state, action) => {\n                console.log(action)\n                state.isLoading = false\n            })\n            builder.addCase(likePost.fulfilled, (state, action) => {\n                state.post = action.payload.post\n            })            \n    }\n})\n\nexport default postSlice.reducer"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}