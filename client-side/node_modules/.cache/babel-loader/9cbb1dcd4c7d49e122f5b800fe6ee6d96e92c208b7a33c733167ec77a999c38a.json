{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Login } from \"../../store/userSlice\";\nimport axios from \"axios\";\nimport { toast } from 'react-toastify';\nexport const useAuth = () => {\n  _s();\n  const dispatch = useDispatch();\n  const [isLoading, setIsLoading] = useState(false);\n  const [formData, setFormData] = useState({\n    name: '',\n    username: '',\n    password: '',\n    lastname: ''\n  });\n  const navigate = useNavigate();\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prevFormData => ({\n      ...prevFormData,\n      [name]: value\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const backEndLink = process.env.REACT_APP_BACKEND_URL;\n    setIsLoading(true);\n    try {\n      const response = await axios.post(`${backEndLink}/users`, {\n        ...formData\n      }, {\n        withCredentials: true\n      });\n      dispatch(Login(response.data.user));\n      navigate('/posts');\n      alert(response.data.message);\n    } catch (err) {\n      // alert(err.response.data.message);\n      toast.error(err.response.data.message, {\n        position: \"top-right\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        theme: \"light\"\n      });\n      setIsLoading(false);\n    }\n  };\n  return {\n    handleSubmit,\n    handleChange,\n    formData,\n    isLoading,\n    navigate\n  };\n};\n_s(useAuth, \"6M9YDxFZJmra3KYw0UbIRk9ng/s=\", false, function () {\n  return [useDispatch, useNavigate];\n});","map":{"version":3,"names":["useState","useDispatch","useNavigate","Login","axios","toast","useAuth","_s","dispatch","isLoading","setIsLoading","formData","setFormData","name","username","password","lastname","navigate","handleChange","e","value","target","prevFormData","handleSubmit","preventDefault","backEndLink","process","env","REACT_APP_BACKEND_URL","response","post","withCredentials","data","user","alert","message","err","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme"],"sources":["/Users/adnan/Desktop/projects/setup/src/routes/register/useAuth.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Login } from \"../../store/userSlice\";\nimport axios from \"axios\";\nimport { toast } from 'react-toastify';\n\nexport const useAuth = () => {\n  const dispatch = useDispatch()\n  const [isLoading, setIsLoading] = useState(false)\n  const [formData, setFormData] = useState({\n    name: '',\n    username: '',\n    password: '',\n    lastname: '',\n  });\n  const navigate = useNavigate()\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prevFormData) => ({ ...prevFormData, [name]: value }));\n  };\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const backEndLink = process.env.REACT_APP_BACKEND_URL\n    setIsLoading(true)\n    try {\n      const response = await axios\n        .post(\n          `${backEndLink}/users`,\n          { ...formData },\n          { withCredentials: true }\n      )\n        dispatch(Login(response.data.user))\n        navigate('/posts')\n      alert(response.data.message)\n      \n    } catch (err) {\n      // alert(err.response.data.message);\n      toast.error(err.response.data.message, {\n        position: \"top-right\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        theme: \"light\",\n        });\n      setIsLoading(false)\n    }\n  };\n    \n    return {\n        handleSubmit,\n        handleChange,\n        formData,\n        isLoading,\n        navigate\n    }\n}"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,KAAK,QAAQ,uBAAuB;AAC7C,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,KAAK,QAAQ,gBAAgB;AAEtC,OAAO,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAMC,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACQ,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACW,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC;IACvCa,IAAI,EAAE,EAAE;IACRC,QAAQ,EAAE,EAAE;IACZC,QAAQ,EAAE,EAAE;IACZC,QAAQ,EAAE;EACZ,CAAC,CAAC;EACF,MAAMC,QAAQ,GAAGf,WAAW,CAAC,CAAC;EAC9B,MAAMgB,YAAY,GAAIC,CAAC,IAAK;IAC1B,MAAM;MAAEN,IAAI;MAAEO;IAAM,CAAC,GAAGD,CAAC,CAACE,MAAM;IAChCT,WAAW,CAAEU,YAAY,KAAM;MAAE,GAAGA,YAAY;MAAE,CAACT,IAAI,GAAGO;IAAM,CAAC,CAAC,CAAC;EACrE,CAAC;EACD,MAAMG,YAAY,GAAG,MAAOJ,CAAC,IAAK;IAChCA,CAAC,CAACK,cAAc,CAAC,CAAC;IAClB,MAAMC,WAAW,GAAGC,OAAO,CAACC,GAAG,CAACC,qBAAqB;IACrDlB,YAAY,CAAC,IAAI,CAAC;IAClB,IAAI;MACF,MAAMmB,QAAQ,GAAG,MAAMzB,KAAK,CACzB0B,IAAI,CACF,GAAEL,WAAY,QAAO,EACtB;QAAE,GAAGd;MAAS,CAAC,EACf;QAAEoB,eAAe,EAAE;MAAK,CAC5B,CAAC;MACCvB,QAAQ,CAACL,KAAK,CAAC0B,QAAQ,CAACG,IAAI,CAACC,IAAI,CAAC,CAAC;MACnChB,QAAQ,CAAC,QAAQ,CAAC;MACpBiB,KAAK,CAACL,QAAQ,CAACG,IAAI,CAACG,OAAO,CAAC;IAE9B,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZ;MACA/B,KAAK,CAACgC,KAAK,CAACD,GAAG,CAACP,QAAQ,CAACG,IAAI,CAACG,OAAO,EAAE;QACrCG,QAAQ,EAAE,WAAW;QACrBC,SAAS,EAAE,IAAI;QACfC,eAAe,EAAE,KAAK;QACtBC,YAAY,EAAE,IAAI;QAClBC,YAAY,EAAE,IAAI;QAClBC,SAAS,EAAE,IAAI;QACfC,QAAQ,EAAEC,SAAS;QACnBC,KAAK,EAAE;MACP,CAAC,CAAC;MACJpC,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;EAEC,OAAO;IACHa,YAAY;IACZL,YAAY;IACZP,QAAQ;IACRF,SAAS;IACTQ;EACJ,CAAC;AACL,CAAC;AAAAV,EAAA,CApDYD,OAAO;EAAA,QACDL,WAAW,EAQXC,WAAW;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}