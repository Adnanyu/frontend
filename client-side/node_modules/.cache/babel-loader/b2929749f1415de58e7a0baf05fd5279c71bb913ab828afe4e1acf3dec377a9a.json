{"ast":null,"code":"import _slicedToArray from\"/Users/adnan/Desktop/projects/setup/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useParams,useNavigate}from'react-router-dom';import{useEffect,useState}from'react';import{useDispatch,useSelector}from\"react-redux\";import{getPost}from\"../../store/postSlice\";export var useView=function useView(){var _useParams=useParams(),id=_useParams.id;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),response=_useState2[0],setResponse=_useState2[1];var navigate=useNavigate();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.post;}),post=_useSelector.post,isLoading=_useSelector.isLoading;useEffect(function(){dispatch(getPost(id));},[]);var deleteHandler=function deleteHandler(){var backEndLink=process.env.REACT_APP_BACKEND_URL;try{axios.delete(\"\".concat(backEndLink,\"/posts/\").concat(id),{withCredentials:true}).then(function(res){setResponse(res.data);navigate('/posts');});}catch(error){console.error('Axios error:',error);}};return{deleteHandler:deleteHandler,id:id,post:post,isLoading:isLoading};};","map":{"version":3,"names":["axios","useParams","useNavigate","useEffect","useState","useDispatch","useSelector","getPost","useView","_useParams","id","_useState","_useState2","_slicedToArray","response","setResponse","navigate","dispatch","_useSelector","state","post","isLoading","deleteHandler","backEndLink","process","env","REACT_APP_BACKEND_URL","delete","concat","withCredentials","then","res","data","error","console"],"sources":["/Users/adnan/Desktop/projects/setup/src/routes/view/useView.js"],"sourcesContent":["import axios from \"axios\";\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { useDispatch , useSelector} from \"react-redux\";\nimport { getPost } from \"../../store/postSlice\";\n\nexport const useView = () => {\n  const { id } = useParams();\n  const [response, setResponse] = useState({});\n  const navigate = useNavigate();\n  const dispatch = useDispatch()\n  const { post, isLoading} = useSelector(state => state.post)\n\n  useEffect(() => {\n    dispatch(getPost(id))\n  }, []);\n\n  const deleteHandler = () => {\n    const backEndLink = process.env.REACT_APP_BACKEND_URL\n    try {\n      axios\n        .delete(`${backEndLink}/posts/${id}`, { withCredentials: true })\n        .then((res) => {\n          setResponse(res.data);\n          navigate('/posts');\n        });\n    } catch (error) {\n      console.error('Axios error:', error);\n    }\n  };\n    \n    return {\n        deleteHandler,\n        id,\n        post,\n        isLoading\n    }\n};\n"],"mappings":"yHAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,WAAW,CAAGC,WAAW,KAAO,aAAa,CACtD,OAASC,OAAO,KAAQ,uBAAuB,CAE/C,MAAO,IAAM,CAAAC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAS,CAC3B,IAAAC,UAAA,CAAeR,SAAS,CAAC,CAAC,CAAlBS,EAAE,CAAAD,UAAA,CAAFC,EAAE,CACV,IAAAC,SAAA,CAAgCP,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAQ,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,GAAM,CAAAI,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAe,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAC9B,IAAAa,YAAA,CAA2BZ,WAAW,CAAC,SAAAa,KAAK,QAAI,CAAAA,KAAK,CAACC,IAAI,GAAC,CAAnDA,IAAI,CAAAF,YAAA,CAAJE,IAAI,CAAEC,SAAS,CAAAH,YAAA,CAATG,SAAS,CAEvBlB,SAAS,CAAC,UAAM,CACdc,QAAQ,CAACV,OAAO,CAACG,EAAE,CAAC,CAAC,CACvB,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAY,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CAC1B,GAAM,CAAAC,WAAW,CAAGC,OAAO,CAACC,GAAG,CAACC,qBAAqB,CACrD,GAAI,CACF1B,KAAK,CACF2B,MAAM,IAAAC,MAAA,CAAIL,WAAW,YAAAK,MAAA,CAAUlB,EAAE,EAAI,CAAEmB,eAAe,CAAE,IAAK,CAAC,CAAC,CAC/DC,IAAI,CAAC,SAACC,GAAG,CAAK,CACbhB,WAAW,CAACgB,GAAG,CAACC,IAAI,CAAC,CACrBhB,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,CAAC,CACN,CAAE,MAAOiB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,cAAc,CAAEA,KAAK,CAAC,CACtC,CACF,CAAC,CAEC,MAAO,CACHX,aAAa,CAAbA,aAAa,CACbZ,EAAE,CAAFA,EAAE,CACFU,IAAI,CAAJA,IAAI,CACJC,SAAS,CAATA,SACJ,CAAC,CACL,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}