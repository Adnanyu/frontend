{"ast":null,"code":"var _s2 = $RefreshSig$();\nimport axios from 'axios';\nimport { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { useLogin } from '../../store/userSlice';\nexport const useLoginHook = () => {\n  _s2();\n  const dispatch = useDispatch();\n  const [isLoading, setIsLoading] = useState(false);\n  const [formData, setFormData] = useState({\n    username: '',\n    password: ''\n  });\n  const navigate = useNavigate();\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prevFormData => ({\n      ...prevFormData,\n      [name]: value\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setIsLoading(true);\n    const backEndLink = import.meta.env.VITE_BACKEND_URL;\n    try {\n      var _s = $RefreshSig$();\n      await _s(axios.post(`${backEndLink}/users/login`, {\n        ...formData\n      }, {\n        withCredentials: true\n      }).then(_s(res => {\n        _s();\n        dispatch(useLogin(res.data.user));\n        alert(res.data.message);\n      }, \"Ra6auuob6WrLo3SeCgceuayFizQ=\", false, function () {\n        return [useLogin];\n      })), \"Ra6auuob6WrLo3SeCgceuayFizQ=\", false, function () {\n        return [useLogin];\n      });\n      navigate('/posts');\n    } catch (err) {\n      alert(err.response.data);\n      setIsLoading(false);\n    }\n    console.log(formData);\n  };\n  return {\n    handleSubmit,\n    handleChange,\n    formData,\n    isLoading,\n    navigate\n  };\n};\n_s2(useLoginHook, \"wcfQ0huAY8UJCodUxsz5CfHbCmk=\", false, function () {\n  return [useDispatch, useNavigate];\n});","map":{"version":3,"names":["axios","useState","useNavigate","useDispatch","useLogin","useLoginHook","_s2","dispatch","isLoading","setIsLoading","formData","setFormData","username","password","navigate","handleChange","e","name","value","target","prevFormData","handleSubmit","preventDefault","backEndLink","import","meta","env","VITE_BACKEND_URL","_s","$RefreshSig$","post","withCredentials","then","res","data","user","alert","message","err","response","console","log"],"sources":["/Users/adnan/Desktop/projects/setup/src/routes/login/useLogin.js"],"sourcesContent":["import axios from 'axios';\nimport { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { useLogin } from '../../store/userSlice';\n\nexport const useLoginHook = () => {\n  const dispatch = useDispatch()\n  const [isLoading, setIsLoading] = useState(false)\n  const [formData, setFormData] = useState({\n    username: '',\n    password: '',\n  });\n  const navigate = useNavigate();\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prevFormData) => ({ ...prevFormData, [name]: value }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setIsLoading(true)\n    const backEndLink = import.meta.env.VITE_BACKEND_URL\n    \n    try {\n      await axios\n        .post(\n          `${backEndLink}/users/login`,\n          { ...formData },\n          { withCredentials: true }\n        )\n        .then((res) => {\n          dispatch(useLogin(res.data.user))\n          alert(res.data.message)\n        });\n      navigate('/posts')\n    } catch (err) {\n      alert(err.response.data);\n      setIsLoading(false)\n    }\n\n    console.log(formData);\n  };\n    return {\n        handleSubmit,\n        handleChange,\n        formData,\n      isLoading,\n        navigate\n    }\n}"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,OAAO;AAChC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,QAAQ,QAAQ,uBAAuB;AAEhD,OAAO,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAAC,GAAA;EAChC,MAAMC,QAAQ,GAAGJ,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACK,SAAS,EAAEC,YAAY,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACS,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC;IACvCW,QAAQ,EAAE,EAAE;IACZC,QAAQ,EAAE;EACZ,CAAC,CAAC;EACF,MAAMC,QAAQ,GAAGZ,WAAW,CAAC,CAAC;EAC9B,MAAMa,YAAY,GAAIC,CAAC,IAAK;IAC1B,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAChCR,WAAW,CAAES,YAAY,KAAM;MAAE,GAAGA,YAAY;MAAE,CAACH,IAAI,GAAGC;IAAM,CAAC,CAAC,CAAC;EACrE,CAAC;EAED,MAAMG,YAAY,GAAG,MAAOL,CAAC,IAAK;IAChCA,CAAC,CAACM,cAAc,CAAC,CAAC;IAClBb,YAAY,CAAC,IAAI,CAAC;IAClB,MAAMc,WAAW,GAAGC,MAAM,CAACC,IAAI,CAACC,GAAG,CAACC,gBAAgB;IAEpD,IAAI;MAAA,IAAAC,EAAA,GAAAC,YAAA;MACF,MAAAD,EAAA,CAAM5B,KAAK,CACR8B,IAAI,CACF,GAAEP,WAAY,cAAa,EAC5B;QAAE,GAAGb;MAAS,CAAC,EACf;QAAEqB,eAAe,EAAE;MAAK,CAC1B,CAAC,CACAC,IAAI,CAAAJ,EAAA,CAAEK,GAAG,IAAK;QAAAL,EAAA;QACbrB,QAAQ,CAACH,QAAQ,CAAC6B,GAAG,CAACC,IAAI,CAACC,IAAI,CAAC,CAAC;QACjCC,KAAK,CAACH,GAAG,CAACC,IAAI,CAACG,OAAO,CAAC;MACzB,CAAC;QAAA,QAFUjC,QAAQ;MAAA,EAElB,CAAC;QAAA,QAFSA,QAAQ;MAAA,EAEjB;MACJU,QAAQ,CAAC,QAAQ,CAAC;IACpB,CAAC,CAAC,OAAOwB,GAAG,EAAE;MACZF,KAAK,CAACE,GAAG,CAACC,QAAQ,CAACL,IAAI,CAAC;MACxBzB,YAAY,CAAC,KAAK,CAAC;IACrB;IAEA+B,OAAO,CAACC,GAAG,CAAC/B,QAAQ,CAAC;EACvB,CAAC;EACC,OAAO;IACHW,YAAY;IACZN,YAAY;IACZL,QAAQ;IACVF,SAAS;IACPM;EACJ,CAAC;AACL,CAAC;AAAAR,GAAA,CA5CYD,YAAY;EAAA,QACNF,WAAW,EAMXD,WAAW;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}